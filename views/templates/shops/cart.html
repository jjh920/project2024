{% extends 'base.html' %}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', path='/css/shop.css') }}">
<style>
    body,
    input,
    textarea,
    button,
    select {
        font-size: 14px;
        line-height: 1.6;
        color: #333333;
        font-weight: 300;
        -webkit-font-smoothing: antialiased;
        -webkit-text-size-adjust: 100%;
    }

    input,
    textarea,
    button,
    select {
        padding: 0;
        margin: 0;
        border: 0px solid;
        border-radius: 0px;
        outline: none;
    }

    .drawtop .cart {
        display: -ms-flexbox;
        display: flex;
        -ms-flex-direction: column;
        flex-direction: column;
        height: 100%;
        margin: 0 20px;
        padding: 0 24px;
        box-sizing: border-box;
    }

    .cart_inner {
        margin-bottom: 0;
        max-height: 100%;
        overflow-y: auto;
        -ms-flex: 1 1 auto;
        flex: 1 1 auto;
    }

    .cart_row {
        grid-template-columns:250px 1fr 425px;
        grid-gap: 40px;
        display: grid;
        padding: 25px;
        background: #faf9f7;
        margin-bottom: 30px;
    }

    .cart_pd_img {
        width: 250px;
        height: 150px;
        background-position: 50%;
        background-size: cover;
        background-repeat: no-repeat;
    }


    .cart_pd_info_container {
        -webkit-align-self: center;
        -ms-flex-item-align: center;
        align-self: center;
        text-align: left
    }

    .cart_pd_title {
        display: block;
        /* 원본 사이트 폰트 - [ ] 비슷한 무료 폰트 찾기*/
        /*font-family: BerlingskeSerif-Regular;*/
        font-weight: 400;
        font-size: 22px;
        line-height: normal
    }

    .cart_pd_info_detail {
        display: grid;
        -moz-column-gap: 60px;
        align-self: center;
        grid-template-columns: 1fr 75px 1fr auto;
        row-gap: 0;
        text-align: center;
        margin-top: 24px;
        column-gap: 60px
    }

    .cart_pd_info_wrap {
        display: grid;
        align-self: center;
        margin-top: 24px;
        grid-template-columns: auto 1fr;
        -webkit-column-gap: 30px;
        -moz-column-gap: 30px;
        column-gap: 30px;
        row-gap: 3px;
        -webkit-box-align: center;
        -webkit-align-items: center;
        -ms-flex-align: center;
        align-items: center;
        font-family: Graphik Web, sans-serif
    }

    .cart_pd_info_wrap div:nth-child(odd) {
        font-size: 10px;
        font-weight: 500;
        text-transform: uppercase
    }

    .cart_pd_info_wrap div:nth-child(2n) {
        font-size: 12px
    }

    .price_col {
        display: grid;
        row-gap: 5px
    }

    .price_col[qty--hidden] {
        opacity: 0
    }

    .price_col > div:nth-child(odd) {
        font-size: 10px;
        font-weight: 500;
        text-transform: uppercase
    }

    .price_col > div:nth-child(2n) {
        font-size: 12px;
        line-height: 13px
    }

    .price_col.remove_item button {
        display: inline;
        font-size: 12px;
        line-height: 16px;
        text-align: left;
        background: none;
    }


    .cart_qty {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        padding: 0 4px;
        background: #fff;
        border: 1px solid #ece9e6
    }

    .cart_qty button {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 30px;
        background: #fff;
    }

    .cart_qty input[disabled] {
        margin: 0;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        font-family: Graphik Web, sans-serif;
        font-size: 12px;
        color: #333;
        text-align: center
    }


    /*footer*/
    .footer {
        border-top: 1px solid #ece9e6;
        padding: 20px;
        background: #fff
    }


    .footer_inner {
        display: grid;
        grid-template-columns:auto 425px;
        grid-column-gap: 20px;
        -webkit-box-align: center;
        -webkit-align-items: center;
        -ms-flex-align: center;
        align-items: center
    }

    .footer_inner > div:nth-child(odd) {
        -webkit-box-ordinal-group: unset;
        -webkit-order: unset;
        -ms-flex-order: unset;
        order: unset;
        margin-top: 0
    }

    .cart_notice {
        display: block;
        font-size: 12px;
        text-align: left;
        margin-top: 20px;
    }

    .cart_notice p {
        margin-bottom: 0;
    }

    .cart_notice a {
        text-decoration: underline;
        color: #333;
    }

    .subtotal_wrapper {
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-pack: justify;
        -webkit-justify-content: space-between;
        -ms-flex-pack: justify;
        justify-content: space-between;
        -webkit-box-align: center;
        -webkit-align-items: center;
        -ms-flex-align: center;
        align-items: center;
        -webkit-box-ordinal-group: 2;
        -ms-flex-order: 1;
        order: 1;
        margin-bottom: 15px
    }

    .subtotal_wrapper div:nth-child(odd) {
        font-size: 18px
    }

    .subtotal_wrapper div:nth-child(2n) {
        font-size: 15px;
        color: #4a4a4a
    }

    .cart_btns {
        display: grid;
        grid-template-columns: 42% 52%;
        -webkit-box-pack: justify;
        -webkit-justify-content: space-between;
        -ms-flex-pack: justify;
        justify-content: space-between
    }

    .cart_notice a:hover {
        opacity: .7;
        font-weight: 300;
        background-image: url('');
    }


</style>
{% endblock %}

{% block main %}
<main>
    <h2>장바구니 예시</h2>
    <div id="CartDrawer" class="drawtop" tabindex="-1">
        <form action="/cart" method="post" novalidate="" class="cart" data-hs-cf-bound="true">
            <!-- 더미 카트 데이터 row 1 -->
            {% for c in clist %}
                <div class="cart_inner">
                    <div class="cart_row">
                        <div class="cart_pd_img" style="background-image: url('{{ c.tumbimg }}')"></div>
                        <div class="cart_pd_info_container">
                            <span class="cart_pd_title">{{ c.name }}</span>
                            <div class="cart_pd_info_wrap">
                                <div>크기</div>
                                <div>가로 {{ c.width }}, 세로 {{ c.deps }}, 높이 {{ c.height }}</div>
                                <div>마감</div>
                                <div>천연 오크</div>
                            </div>
                        </div>
                        <div class="cart_pd_info_detail">
                            <div class="price_col">
                                <div>가격</div>
                                <div>{{ c.price }}</div>
                            </div>
                            <div class="price_col">
                                <div>Qty</div>
                                <div class="cart_qty">
                                    <button type="button" id="mbtn">
                                        -
                                    </button>
                                    <input type="text" name="test" id="test2" readonly value="1" pattern="[0-9]?"
                                           disabled>
                                    <button type="button" id="pbtn">
                                        +
                                    </button>
                                </div>
                            </div>
                            <div class="price_col">
                                <div>합계</div>
                                <div class="">{{ c.price*c.quantity }}</div>
                            </div>
                            <div class="price_col remove_item">
                                <button type="button">
                                    <i class="bi bi-x-lg"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}

            <!-- footer -->
            <div class="footer">
                <div class="footer_inner">
                    <div>
                        <div class="cart_notice">
                            <p>이 구매를 진행함으로써 귀하는 당사의
                                <a href="/pages/terms-and-conditions" title="Terms and Conditions">Terms and
                                    개인 정보 보호 정책</a>
                                과
                                <a href="/pages/privacy" title="Privacy">
                                    약관
                                </a>
                                에 동의합니다.
                            </p>
                        </div>
                    </div>
                    <div>
                        <div class="subtotal_wrapper">
                            <div>총 가격</div>
                            <div class="total_price">785612 원</div>
                        </div>
                        <div class="cart_btns box">
                            <button type="button" class="btn" name="checkout">
                                돌아가기
                            </button>
                            <button type="button" class="btn" name="checkout">
                                구매
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div class=""></div>
    </div>
</main>
{% endblock %}

{% block script %}
<script>
    // 현재 회원 검증 없음 추후 추가 예정
    let mbtn = document.querySelector('#mbtn');
    let pbtn = document.querySelector('#pbtn');
    let test2 = document.querySelector('#test2');
    mbtn.addEventListener('click', () => {
        if (test2.value > 1) {
            test2.value -= 1;
        }
    });

    pbtn.addEventListener('click', () => {
        test2.value = Number(test2.value) + 1;
    });
</script>
{% endblock %}